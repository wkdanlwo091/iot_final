/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/9.0.27
 * Generated at: 2020-04-25 07:28:17 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.view.main;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class popupOrder_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    if (!javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSP들은 오직 GET, POST 또는 HEAD 메소드만을 허용합니다. Jasper는 OPTIONS 메소드 또한 허용합니다.");
        return;
      }
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta charset=\"UTF-8\">\r\n");
      out.write("<title>Insert title here</title>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\"\r\n");
      out.write("\thref=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\"\r\n");
      out.write("\thref=\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600|Raleway:300,400,600&amp;subset=latin-ext\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\"\r\n");
      out.write("\thref=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\"\r\n");
      out.write("\thref=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/css/bootstrap-datepicker.min.css\">\r\n");
      out.write("<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"></script>\r\n");
      out.write("<!--<script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\"></script>-->\r\n");
      out.write("<script\r\n");
      out.write("\tsrc=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js\"></script>\r\n");
      out.write("<script\r\n");
      out.write("\tsrc=\"https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js\"></script>\r\n");
      out.write("<script\r\n");
      out.write("\tsrc=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js\"></script>\r\n");
      out.write("<script\r\n");
      out.write("\tsrc=\"https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.3.0/mustache.min.js\"></script>\r\n");
      out.write("<script\r\n");
      out.write("\tsrc=\"https://cdnjs.cloudflare.com/ajax/libs/jquery.nicescroll/3.7.6/jquery.nicescroll.min.js\"></script>\r\n");
      out.write("<script\r\n");
      out.write("\tsrc=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/js/bootstrap-datepicker.min.js\"></script>\r\n");
      out.write("<!-- table style  -->\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("\tvar itemList;// 데이터베이스에서 가져온 아이템 리스트 개수 \r\n");
      out.write("\tvar totalAddedItem = 0;// 버튼을 눌러서 추가된 아이템 개수 \r\n");
      out.write("\tvar SelectedItemArray = [];// 선택(미정)을 0으로 잡는다. \r\n");
      out.write("\tvar SelectedItemMoney = [];\r\n");
      out.write("\tvar totalPrice = 0;\r\n");
      out.write("\tvar currentOrderID;\r\n");
      out.write("\tvar sendToDBData;\r\n");
      out.write("\t\t\r\n");
      out.write("\t//select option에서 선택된 아이템을 출력한다. \r\n");
      out.write("\t/*\r\n");
      out.write("\t $(document).ready(function(){\r\n");
      out.write("\t var tmpText = 'div.row.product';\r\n");
      out.write("\t var selectedItem;\r\n");
      out.write("\t for(var i = 0;i < totalAddedItem; i++ ){\r\n");
      out.write("\t tmpText += totalAddedItem.toString();// div.row.productn\r\n");
      out.write("\t selectedItem = $(\"#template > div.col-12.panel-body.basket-body > \"+ tmpText +\"select\").val();//div.id_100 select\t\t\r\n");
      out.write("\t //이 selecteItem을 바탕으로 \r\n");
      out.write("\t //여기서 div 코드를 붙여줘야 한다.\r\n");
      out.write("\t }\r\n");
      out.write("\t });\r\n");
      out.write("\t */\r\n");
      out.write("\t//물건 수량을 더하는 함수\r\n");
      out.write("\tfunction plusItem(pi, itemIndex) {\r\n");
      out.write("\t\tSelectedItemArray[pi - 1]++;\r\n");
      out.write("\t\tvar tmpPi = \"#\" + pi + \" > div.col-2.align-right > span\";\r\n");
      out.write("\t\tvar tmpVal = $(tmpPi).html();// value인 것같은데 html 이 맞네  어이가 없다. \r\n");
      out.write("\t\t$(tmpPi).html((parseInt(tmpVal) + 1).toString());// 갯수 더해주기 \r\n");
      out.write("\t\ttotalPrice += SelectedItemMoney[itemIndex];\r\n");
      out.write("\t\tdocument.querySelector(\"body > div > div > div > div > div > div.row > div > div.col-12.panel-footer.basket-footer > div > div > div\").innerHTML = \"총합: \" +  totalPrice.toString();;\r\n");
      out.write("\t }\r\n");
      out.write("\t\t//물건 수량을 빼는 함수 \r\n");
      out.write("\tfunction minusItem(mi, itemIndex) {\r\n");
      out.write("\t\t\tif (SelectedItemArray[mi - 1] <= 1) {\r\n");
      out.write("\t\t\t\talert(\"최소 수량은 한개입니다.\");return;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tSelectedItemArray[mi - 1]--;\r\n");
      out.write("\t\t\tvar tmpPi = \"#\" + mi + \" > div.col-2.align-right > span\";\r\n");
      out.write("\t\t\tvar tmpVal = $(tmpPi).html();// value인 것같은데 html 이 맞네  어이가 없다. \r\n");
      out.write("\t\t\t$(tmpPi).html((parseInt(tmpVal) - 1).toString());// 갯수 더해주기 \r\n");
      out.write("\t\t\ttotalPrice -= SelectedItemMoney[itemIndex];\r\n");
      out.write("\t\t\tdocument.querySelector(\"body > div > div > div > div > div > div.row > div > div.col-12.panel-footer.basket-footer > div > div > div\").innerHTML = \"총합 : \"+totalPrice.toString();\r\n");
      out.write("\t\t}\r\n");
      out.write("\tfunction destroyItem(di, itemIndex) {\r\n");
      out.write("\t\t$(\"#\" + di).remove(); //물건 항목지우기 \r\n");
      out.write("\t\t//totalAddedItem--;//물건항목이 없어질 때마다 전역변수 totalAddedItem을 한개씩 빼준다. 그리고 selectedItem의 value를 0으로 초기화한다.\r\n");
      out.write("\t\tif (totalPrice > 0) {\r\n");
      out.write("\t\t\ttotalPrice = totalPrice - SelectedItemMoney[itemIndex]\t* (SelectedItemArray[di - 1] - 1);// di와 di-1로 구분 되는 것은 첫번 째 SelectedItemMoney는 선택이 있고 두번째 SelectedItemArray는 선택이 없기 때문이다.\r\n");
      out.write("\t\t} else {\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tSelectedItemArray[di - 1] = 0;\r\n");
      out.write("\t\tdocument.querySelector(\"body > div > div > div > div > div > div.row > div > div.col-12.panel-footer.basket-footer > div > div > div\").innerHTML = \"총합 : \" + totalPrice.toString();\r\n");
      out.write("\t}\r\n");
      out.write("\tfunction myIngredientFunction(totalAddedItemIndex) {//n번째 항목과 n번째 아이템\r\n");
      out.write("\t\t//아이템 추가되면 배열에 index 저장 ---> 수량을 지정하기 위해서  최소 수0은 0이다. \r\n");
      out.write("\t\tSelectedItemArray.push(1);//이거는 아이템 초기수량을 1로 잡은 것이다. \r\n");
      out.write("\t\tvar y = document.getElementById(\"myIngredient\").parentElement.nodeName;// div\r\n");
      out.write("\t\tvar z = $('#myIngredient').parent().attr('class');\r\n");
      out.write("\t\tvar DivOfmyIngredient = \"div.\" + z.substring(0, 3) + '.'+ z.substring(4);\r\n");
      out.write("\t\tconsole.log(\"itemList 는\" + \titemList);//itemList 중 받아온 n번 째를 표시해야 한다. \r\n");
      out.write("\t\tvar myTmp = \"#itemDivId\" + totalAddedItemIndex + \"> select option:selected\";\r\n");
      out.write("\t\tvar indexOfItemList = $(myTmp).index();//아이템 배열의 인덱스 \r\n");
      out.write("\t\tconsole.log(\"n번 째의 값은 \"\t+ DivOfmyIngredient.charAt(DivOfmyIngredient.length - 1));\r\n");
      out.write("\t\t//DivOfmyIngredietn는 div.row.product1\r\n");
      out.write("\t\tconsole.log(DivOfmyIngredient + \"최종적으로 row product 이렇게 나와야 한다. \");\r\n");
      out.write("\t\tvar divsIndex = DivOfmyIngredient.charAt(DivOfmyIngredient.length - 1);\r\n");
      out.write("\t\tvar DivOfmyIngredientTmp = DivOfmyIngredient.substring(4, 7) + \" \"\r\n");
      out.write("\t\t\t\t+ DivOfmyIngredient.substring(8, DivOfmyIngredient.length - 1);// row product 출력 --> row product를 해야 css가 작동한다.\r\n");
      out.write("\t\tvar myNewCode = \"<div id =\"+ totalAddedItemIndex   +\" class =\\\"\" + DivOfmyIngredientTmp + \"\\\">\";\r\n");
      out.write("\t\t/*myNewCode는 물건의 사진, 아이디 , 수량, 가격을 표현 한 것이다.*/\r\n");
      out.write("\t\t//버튼에 div row product 의 index를 주었다. \r\n");
      out.write("\t\tmyNewCode += \"<div class='col-2 product-image'>\";\r\n");
      out.write("\t\tmyNewCode += totalAddedItemIndex;\r\n");
      out.write("\t\t//myNewCode += \"<img src=\\\"\"+ itemList[indexOfItemList].IngImgName+\"\\\">\";\r\n");
      out.write("\t\tmyNewCode += \"</div>\";\r\n");
      out.write("\t\tmyNewCode += \"<div class= \\\"col-5\\\">\";\r\n");
      out.write("\t\tmyNewCode += itemList[indexOfItemList].IngName+ \"<button onclick=\\\"plusItem(\"+totalAddedItemIndex+\",\"+indexOfItemList+\")\\\">+</button>\";\r\n");
      out.write("\t\tmyNewCode += \"<button onclick=\\\"minusItem(\"+totalAddedItemIndex+\",\"+indexOfItemList+\")\\\">-</button>\";\r\n");
      out.write("\t\t//myNewCode += \"<button onclick=\\\"minusItem(\" + totalAddedItemIndex + \")\\\">-</button>\";\r\n");
      out.write("\t\tmyNewCode += \"<button onclick= \\\"destroyItem(\"+totalAddedItemIndex+\",\"+indexOfItemList+\")\\\">물품삭제</button></div>\";//아이템 지우기 \r\n");
      out.write("\t\tmyNewCode += \"<div class=\\\"col-2 align-right\\\">\";\r\n");
      out.write("\t\t//여기서 버튼을 눌러서 수량을 증감한다. \r\n");
      out.write("\t\tmyNewCode += \"<span class=\\\"sub\\\">\" + \"1\" + \"</span>\"+ itemList[indexOfItemList].IngUnit;\r\n");
      out.write("\t\tmyNewCode += \"</div>\";\r\n");
      out.write("\t\tmyNewCode += \"<div class=\\\"col-3 align-right\\\">\";\r\n");
      out.write("\t\tmyNewCode += \"<span class=\\\"sub\\\">\" + \"$\" + \"</span>\"+ itemList[indexOfItemList].IngPrice;\r\n");
      out.write("\t\tmyNewCode += \"</div>\";\r\n");
      out.write("\t\tmyNewCode += \"</div>\";\r\n");
      out.write("\t\tDivOfmyIngredient = DivOfmyIngredient.substring(0,DivOfmyIngredient.length - 1)+totalAddedItemIndex;\r\n");
      out.write("\t\tvar tmp = $(DivOfmyIngredient).replaceWith(myNewCode);\r\n");
      out.write("\t}\r\n");
      out.write("\t//디비에서 ingredient 정보를 가져오는 ajax\r\n");
      out.write("\tfunction getData() {\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl : 'orderData.top',\r\n");
      out.write("\t\t\tsuccess : function(data) {\r\n");
      out.write("\t\t\t\t//여기서 데이터를 받아온다\r\n");
      out.write("\t\t\t\tconsole.log(\"data는 \" + data + \"data type은 \" + typeof (data)+ \" data length 는\" + data.length);\r\n");
      out.write("\t\t\t\tconsole.log(data);\r\n");
      out.write("\t\t\t\titemList = data;\r\n");
      out.write("\t\t\t\tSelectedItemMoney = [];\r\n");
      out.write("\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n");
      out.write("\t\t\t\t\tconsole.log(\"가격은  \" + data[i].IngPrice);\r\n");
      out.write("\t\t\t\t\tSelectedItemMoney.push(data[i].IngPrice);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tconsole.log(SelectedItemMoney);\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror : function(request, status, error) {\r\n");
      out.write("\t\t\t\tconsole.log(\"error!\" + request.status + \"\\n\\n message = \"\r\n");
      out.write("\t\t\t\t\t\t+ request.responseText + \" \\n\\nerror = \" + error);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t};\r\n");
      out.write("\tfunction orderStatusData(chainOrHQ) {\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\turl : 'orderStatusData.top',\r\n");
      out.write("\t\t\t        type: \"get\",\r\n");
      out.write("\t\t\t        data : { \"chainOrHQ\" : chainOrHQ },\r\n");
      out.write("\t\t\t\t\tsuccess : function(data) {\r\n");
      out.write("\t\t\t\t\t\t//디비에 보낼 데이터를 저장한다.\r\n");
      out.write("\t\t\t\t\t\tmyObject = {};\r\n");
      out.write("\t\t\t\t\t\tsendToDBData = data;\r\n");
      out.write("\t\t\t\t\t\tconsole.log(data + \" data length \" + data.length\r\n");
      out.write("\t\t\t\t\t\t\t\t+ \"data type is \" + typeof (data));\r\n");
      out.write("\t\t\t\t\t\t// draw graph;\r\n");
      out.write("\t\t\t\t\t\tvar myTable = \"\";\r\n");
      out.write("\t\t\t\t\t\tmyTable += \"<div id=\\\"rowC\\\" class=\\\"col-xs-8 col-xs-offset-2 well\\\">\";\r\n");
      out.write("\t\t\t\t\t\tmyTable += \"<table class=\\\"table table-scroll table-striped\\\">\";\r\n");
      out.write("\t\t\t\t\t\tmyTable += \"<thead><tr><th>#</th><th>HQ</th><th>CHAIN</th><th>container ID</th><th>ID</th>\";\r\n");
      out.write("\t\t\t\t\t\tmyTable += \"<th>재료 이름 </th><th>재료 가격</th><th>재료 단위</th><th>재료 무게</th><th>수량</th><th>주문 상태</th></tr></thead><tbody id = \\\"myTable\\\"><tbody></table></div>\";\r\n");
      out.write("\t\t\t\t\t\t$('#template > div.col-12.panel-body.basket-body').append(myTable);\r\n");
      out.write("\t\t\t\t\t\tvar myTemp;\r\n");
      out.write("\t\t\t\t\t\tmyTemp += \"\";\r\n");
      out.write("\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n");
      out.write("\t\t\t\t\t\t\tif(i == 0){\r\n");
      out.write("\t\t\t\t\t\t\t\tcurrentOrderID = data[i].OrderID;\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<tr>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<td>\" + i + 1 + \"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<td>\" + data[i].HqName + \"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<td>\" + data[i].ChainName + \"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<td>\" + data[i].ConID + \"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<td>\" + data[i].UserName + \"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<td>\" + data[i].IngName + \"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<td>\" + data[i].IngPrice + \"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<td>\" + data[i].IngUnit + \"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<td>\" + data[i].IngWeight + \"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<td>\" + data[i].IngQuantity + \"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"<td>\" + data[i].OrderState+ \"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\tmyTemp += \"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\ttotalPrice += data[i].IngPrice * data[i].IngQuantity;\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\tdocument.querySelector('body > div > div > div > div > div > div.row > div > div.col-12.panel-footer.basket-footer > div > div > div').innerHTML = \"총합 : \"+ totalPrice.toString();  \r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t$('#myTable').append(myTemp);\r\n");
      out.write("\t\t\t\t\t\t//alert(currentOrderID);\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\tdocument.querySelector(\"#template > div.col-12.panel-header.basket-header > div:nth-child(1) > div.col-6.order-number.align-right > span.emphasized\").innerHTML = currentOrderID;\r\n");
      out.write("\t\t\t\t\t\t//총합 설정 \r\n");
      out.write("\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\terror : function(request, status, error) {\r\n");
      out.write("\t\t\t\t\t\tconsole.log(\"error!\" + request.status\r\n");
      out.write("\t\t\t\t\t\t\t\t+ \"\\n\\n message = \" + request.responseText\r\n");
      out.write("\t\t\t\t\t\t\t\t+ \" \\n\\nerror = \" + error);\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t};\r\n");
      out.write("\t//물건 항목을 더하는 함수 \r\n");
      out.write("\tfunction addItem() {\r\n");
      out.write("\t\t//여기서 html 코드를 넣어야 한다.\r\n");
      out.write("\t\t//ajax로 n개의 ingredient item을 가져온다.  \t\r\n");
      out.write("\t\tvar temp = '';\r\n");
      out.write("\t\tgetData();//\r\n");
      out.write("\t\tif(itemList.length == 0){\r\n");
      out.write("\t\t\tsetTimeout(\r\n");
      out.write("\t\t\t\t\tfunction() {\r\n");
      out.write("\t\t\t\t\t\ttotalAddedItem++;\r\n");
      out.write("\t\t\t\t\t\t// 2초 후 작동해야할 코드   ---> 이것을 안하면 AJAX가 값을 받아오기 전에 itemList가 값을 뿌린다. \r\n");
      out.write("\t\t\t\t\t\ttemp += '<div id = \"itemDivId'+  totalAddedItem   +'\"class=\"row product'+ totalAddedItem + '\">';\r\n");
      out.write("\t\t\t\t\t\ttemp += '<select id=\"myIngredient\" onchange=\"myIngredientFunction('\r\n");
      out.write("\t\t\t\t\t\t\t\t+ totalAddedItem + ')\">';//size=\"'+ itemList.length +'\" 여기서 totalAddedItem을 넘겨준다. \r\n");
      out.write("\t\t\t\t\t\t$(itemList).each(\r\n");
      out.write("\t\t\t\t\t\t\t\tfunction(idx, item) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\tconsole.log(item.IngName + \"\\n\");//\r\n");
      out.write("\t\t\t\t\t\t\t\t\ttemp += '<option value=\"'+item.IngName + '\">'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t+ item.IngName + '</option>';\r\n");
      out.write("\t\t\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\ttemp += '</select>';\r\n");
      out.write("\t\t\t\t\t\ttemp += '</div>';\r\n");
      out.write("\t\t\t\t\t\t$('#template > div.col-12.panel-body.basket-body').append(temp);\r\n");
      out.write("\t\t\t\t\t}, 2000);\r\n");
      out.write("\r\n");
      out.write("\t\t}else if(itemList.length != 0){\r\n");
      out.write("\t\t\ttotalAddedItem++;\r\n");
      out.write("\t\t\t// 2초 후 작동해야할 코드   ---> 이것을 안하면 AJAX가 값을 받아오기 전에 itemList가 값을 뿌린다. \r\n");
      out.write("\t\t\ttemp += '<div id = \"itemDivId'+  totalAddedItem   +'\"class=\"row product'+ totalAddedItem + '\">';\r\n");
      out.write("\t\t\ttemp += '<select id=\"myIngredient\" onchange=\"myIngredientFunction('+ totalAddedItem + ')\">';\r\n");
      out.write("\t\t\t//size=\"'+ itemList.length +'\" 여기서 totalAddedItem을 넘겨준다. \r\n");
      out.write("\t\t\t$(itemList).each(\r\n");
      out.write("\t\t\t\t\tfunction(idx, item) {\r\n");
      out.write("\t\t\t\t\t\tconsole.log(item.IngName + \"\\n\");//\r\n");
      out.write("\t\t\t\t\t\ttemp += '<option value=\"'+item.IngName + '\">'\r\n");
      out.write("\t\t\t\t\t\t\t\t+ item.IngName + '</option>';\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t\ttemp += '</select>';\r\n");
      out.write("\t\t\ttemp += '</div>';\r\n");
      out.write("\t\t\t$('#template > div.col-12.panel-body.basket-body').append(temp);\r\n");
      out.write("\r\n");
      out.write("\t\t}\r\n");
      out.write("\t};\r\n");
      out.write("\t$(document).ready(function() {\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tgetData();\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tvar loginId = \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${loginId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\";\r\n");
      out.write("\t\t///기업용인지 사용자용인지에 따라서 뽑는 데이터 달라진다. \r\n");
      out.write("\t\tvar chainOrHq = 0;\r\n");
      out.write("\t\tif(loginId.includes(\"chainID\")){// 체인의 가맹점용\r\n");
      out.write("\t\t\tchainOrHq = 0;\r\n");
      out.write("\t\t}else if(loginId.includes(\"hq\")){// 체인의 헤드쿼터용\r\n");
      out.write("\t\t\tchainOrHq = 1;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t///오더 테이블을 넣는다. \r\n");
      out.write("\t\torderStatusData(chainOrHq);\r\n");
      out.write("\t\t$('.emphasized').text(currentOrderID);\r\n");
      out.write("\t\t//alert($('emphasized').text());\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$('[data-toggle=\"tooltip\"]').tooltip();\r\n");
      out.write("\t\tvar template = $('#template').html();\r\n");
      out.write("\t\tMustache.parse(template);\r\n");
      out.write("\t\tvar rendered = Mustache.render(template, get_basket());\r\n");
      out.write("\t\t$('#template').html(rendered);\r\n");
      out.write("\t\tif ($('.basket-body').hasScrollBar()) {\r\n");
      out.write("\t\t\t$('.column-titles').addClass('fix-overflow');\r\n");
      out.write("\t\t\t$('.basket-body').niceScroll({\r\n");
      out.write("\t\t\t\tautohidemode : false,\r\n");
      out.write("\t\t\t\tcursorcolor : \"#ffffff\",\r\n");
      out.write("\t\t\t\tcursorborder : \"1px solid #D0D0D0\",\r\n");
      out.write("\t\t\t\tcursorborderradius : \"0\",\r\n");
      out.write("\t\t\t\tbackground : \"#ffffff\"\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t} else {\r\n");
      out.write("\t\t\t$('.column-titles').removeClass('fix-overflow');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t$('.card-expiration').datepicker({\r\n");
      out.write("\t\t\tformat : \"mm/yyyy\",\r\n");
      out.write("\t\t\tstartView : \"months\",\r\n");
      out.write("\t\t\tminViewMode : \"months\"\r\n");
      out.write("\t\t});\r\n");
      out.write("\t});\r\n");
      out.write("\tfunction get_basket() {\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t//https://stackoverflow.com/questions/4814398/how-can-i-check-if-a-scrollbar-is-visible\r\n");
      out.write("\t(function($) {\r\n");
      out.write("\t\t$.fn.hasScrollBar = function() {\r\n");
      out.write("\t\t\treturn this.get(0).scrollHeight > this.height();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t})(jQuery);\r\n");
      out.write("</script>\r\n");
      out.write("<style>\r\n");
      out.write("#rowC { //가로 스크롤 \r\n");
      out.write("    white-space: nowrap;/* 가로스크롤시 중요한 속성 */\r\n");
      out.write("    overflow-x: auto;\r\n");
      out.write("    overflow-y: hidden;\r\n");
      out.write("    padding: 10px 10px 5px;\r\n");
      out.write("    background: #efefef;\r\n");
      out.write("    width: 600px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("html, body {\r\n");
      out.write("\theight: 100%;\r\n");
      out.write("\tcolor: black;\r\n");
      out.write("\t/* font-family: 'Barlow', sans-serif; */\r\n");
      out.write("\t/* font-family: 'Roboto Condensed', sans-serif; */\r\n");
      out.write("\tfont-family: 'Open Sans', sans-serif;\r\n");
      out.write("\tfont-weight: 400;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("body {\r\n");
      out.write("\tfont-size: 62.5%;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("body {\r\n");
      out.write("\t/*\r\n");
      out.write("\tbackground:\r\n");
      out.write("\t\turl(https://images.unsplash.com/photo-1462899006636-339e08d1844e?auto=format&fit=crop&w=1950&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D)\r\n");
      out.write("\t\tno-repeat center center fixed;*/\r\n");
      out.write("\tbackground-size: cover;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".main-wrapper {\r\n");
      out.write("\tborder-radius: 15px 15px 15px 15px;\r\n");
      out.write("\t-moz-border-radius: 15px 15px 15px 15px;\r\n");
      out.write("\t-webkit-border-radius: 15px 15px 15px 15px;\r\n");
      out.write("\tborder: none;\r\n");
      out.write("\t-webkit-box-shadow: 0px 20px 10px 10px rgba(0, 0, 0, 0.1);\r\n");
      out.write("\t-moz-box-shadow: 0px 20px 10px 10px rgba(0, 0, 0, 0.1);\r\n");
      out.write("\tbox-shadow: 0px 20px 10px 10px rgba(0, 0, 0, 0.1);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".basket-header {\r\n");
      out.write("\tborder-radius: 15px 0 0 0;\r\n");
      out.write("\t-moz-border-radius: 15px 0 0 0;\r\n");
      out.write("\t-webkit-border-radius: 15px 0 0 0;\r\n");
      out.write("\tpadding-left: 25px !important;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".creditcard-header {\r\n");
      out.write("\tborder-radius: 0 15px 0 0;\r\n");
      out.write("\t-moz-border-radius: 0 15px 0 0;\r\n");
      out.write("\t-webkit-border-radius: 0 15px 0 0;\r\n");
      out.write("\tpadding-left: 35px !important;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".panel-wrapper {\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".panel-header {\r\n");
      out.write("\tbackground: #166D9A;\r\n");
      out.write("\theight: 80px;\r\n");
      out.write("\tpadding: 15px 20px 0 20px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".panel-wrapper .basket-header .column-titles {\r\n");
      out.write("\tcolor: #A2C6DD;\r\n");
      out.write("\tpadding: 0;\r\n");
      out.write("\tmargin: 0;\r\n");
      out.write("\t/* font-family: 'Anton', sans-serif; */\r\n");
      out.write("\tdisplay: none;\r\n");
      out.write("\tvisibility: hidden;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".fix-overflow {\r\n");
      out.write("\tpadding-right: 5px !important;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".panel-wrapper .basket-body {\r\n");
      out.write("\toverflow-x: hidden;\r\n");
      out.write("\toverflow-y: auto;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".panel-wrapper .creditcard-body {\r\n");
      out.write("\tpadding: 30px 40px 0 40px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".panel-wrapper .panel-body {\r\n");
      out.write("\tfont-weight: 400;\r\n");
      out.write("\tfont-size: 1.2em;\r\n");
      out.write("\toutline: none !important;\r\n");
      out.write("\tmin-height: 350px;\r\n");
      out.write("\tmax-height: 350px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".basket-body {\r\n");
      out.write("\tbackground: #F9F9F9;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".creditcard-body {\r\n");
      out.write("\tbackground: white;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".basket-body .row.product {\r\n");
      out.write("\tmargin: 5px 0 5px 0;\r\n");
      out.write("\tpadding: 5px 0 5px 0;\r\n");
      out.write("\tborder-bottom: solid 1px #eeeeee;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".basket-body .row.product div {\r\n");
      out.write("\tcolor: #777879;\r\n");
      out.write("\tpadding: 0 10px 0 10px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".basket-body .row.product .product-image {\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".product-image img {\r\n");
      out.write("\t-o-object-fit: contain;\r\n");
      out.write("\tobject-fit: contain;\r\n");
      out.write("\twidth: 100%;\r\n");
      out.write("\tmin-width: 100%;\r\n");
      out.write("\tmax-width: 100%;\r\n");
      out.write("\tmax-height: 80px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".card-wrapper {\r\n");
      out.write("\theight: 100%;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".padding-top-10 {\r\n");
      out.write("\tpadding-top: 10px !important;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".padding-top-20 {\r\n");
      out.write("\tpadding-top: 20px !important;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".padding-horizontal-40 {\r\n");
      out.write("\tpadding: 0 40px 0 40px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".align-right {\r\n");
      out.write("\ttext-align: right;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".align-center {\r\n");
      out.write("\ttext-align: center;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".emphasized {\r\n");
      out.write("\t/* font-family: 'Anton', sans-serif; */\r\n");
      out.write("\t/* font-family: 'Roboto Condensed', sans-serif; */\r\n");
      out.write("\t/* font-family: 'Raleway', sans-serif; */\r\n");
      out.write("\tfont-family: 'Open Sans', sans-serif;\r\n");
      out.write("\tfont-weight: 600;\r\n");
      out.write("\tfont-size: 1.6em;\r\n");
      out.write("\tcolor: white;\r\n");
      out.write("}\r\n");
      out.write(".description {\r\n");
      out.write("\t/* font-family: 'Anton', sans-serif; */\r\n");
      out.write("\t/* font-family: 'Roboto Condensed', sans-serif; */\r\n");
      out.write("\t/* font-family: 'Raleway', sans-serif; */\r\n");
      out.write("\tfont-family: 'Open Sans', sans-serif;\r\n");
      out.write("\tfont-weight: 400;\r\n");
      out.write("\tfont-size: 1.2em;\r\n");
      out.write("\tcolor: #A2C6DD;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".panel-footer {\r\n");
      out.write("\tpadding-top: 10px;\r\n");
      out.write("\theight: 150px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".basket-footer {\r\n");
      out.write("\tbackground: #166D9A;\r\n");
      out.write("\tborder-radius: 0 0 0 15px;\r\n");
      out.write("\t-moz-border-radius: 0 0 0 15px;\r\n");
      out.write("\t-webkit-border-radius: 0 0 0 15px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".basket-footer .title, .basket-footer .subtitle {\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".creditcard-footer {\r\n");
      out.write("\tbackground: white;\r\n");
      out.write("\tborder-radius: 0 0 15px 0;\r\n");
      out.write("\t-moz-border-radius: 0 0 15px 0;\r\n");
      out.write("\t-webkit-border-radius: 0 0 15px 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".basket-footer .row .subtitle, .basket-footer .row .title {\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".panel-footer hr {\r\n");
      out.write("\tmargin: 3px 0 3px 0;\r\n");
      out.write("\tdisplay: block;\r\n");
      out.write("\theight: 1px;\r\n");
      out.write("\tborder: 0;\r\n");
      out.write("\tborder-top: 1px solid #197fb3;\r\n");
      out.write("\tpadding: 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".panel-footer button {\r\n");
      out.write("\tborder: solid 1px #166D9A;\r\n");
      out.write("\tbackground: #166D9A;\r\n");
      out.write("\tfont-family: 'Open Sans', sans-serif;\r\n");
      out.write("\tfont-weight: 600;\r\n");
      out.write("\tcolor: white;\r\n");
      out.write("\tfont-size: 1.3em;\r\n");
      out.write("\ttext-transform: uppercase;\r\n");
      out.write("\tpadding: 10px 15px 11px 15px;\r\n");
      out.write("\tborder-radius: 5px;\r\n");
      out.write("\t-moz-border-radius: 5px;\r\n");
      out.write("\t-webkit-border-radius: 5px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".panel-footer button:hover {\r\n");
      out.write("\tcursor: pointer;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("button.cancel {\r\n");
      out.write("\tbackground: white;\r\n");
      out.write("\tcolor: #166D9A;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("button.cancel:hover {\r\n");
      out.write("\tbackground: #ff0000;\r\n");
      out.write("\tborder-color: #ff0000;\r\n");
      out.write("\tcolor: white;\r\n");
      out.write("}\r\n");
      out.write("button.confirm:hover {\r\n");
      out.write("\tbackground: #00b300;\r\n");
      out.write("\tborder-color: #00b300;\r\n");
      out.write("\tcolor: white;\r\n");
      out.write("}\r\n");
      out.write(".dive {\r\n");
      out.write("\tmargin-top: 5px;\r\n");
      out.write("}\r\n");
      out.write(".sub {\r\n");
      out.write("\tfont-size: 75%;\r\n");
      out.write("\tcolor: #aaaaaa;\r\n");
      out.write("}\r\n");
      out.write(".very {\r\n");
      out.write("\tfont-size: 2.2em;\r\n");
      out.write("}\r\n");
      out.write(".creditcard-body form {\r\n");
      out.write("\tfont-size: 1.3em;\r\n");
      out.write("}\r\n");
      out.write(".creditcard-body form i.fa {\r\n");
      out.write("\tmargin-right: 10px;\r\n");
      out.write("\tcolor: #166D9A;\r\n");
      out.write("}\r\n");
      out.write(".creditcard-body form fieldset {\r\n");
      out.write("\tborder-bottom: dotted 2px #D0D0D0;\r\n");
      out.write("\tmargin-bottom: 25px;\r\n");
      out.write("}\r\n");
      out.write(".creditcard-body form input {\r\n");
      out.write("\tborder: none;\r\n");
      out.write("\tfont-weight: 600;\r\n");
      out.write("\tcolor: #555555;\r\n");
      out.write("\twidth: 85%;\r\n");
      out.write("\toutline: none;\r\n");
      out.write("}\r\n");
      out.write(".creditcard-body form input::placeholder {\r\n");
      out.write("\tcolor: #D0D0D0;\r\n");
      out.write("}\r\n");
      out.write(".creditcard-body form label {\r\n");
      out.write("\tcolor: #aaaaaa;\r\n");
      out.write("}\r\n");
      out.write(".additional {\r\n");
      out.write("\tfont-weight: 300;\r\n");
      out.write("\tfont-size: 80%;\r\n");
      out.write("}\r\n");
      out.write(".fa-info-circle {\r\n");
      out.write("\tcolor: #aaaaaa !important;\r\n");
      out.write("}\r\n");
      out.write("span.month.focused.active {\r\n");
      out.write("\tbackground: #166D9A !important;\r\n");
      out.write("\tbackground-image: none !important;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("@media ( max-width : 992px) {\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("@media ( max-width : 767px) {\r\n");
      out.write("\t.basket-header {\r\n");
      out.write("\t\tborder-radius: 15px 15px 0 0;\r\n");
      out.write("\t\t-moz-border-radius: 15px 15px 0 0;\r\n");
      out.write("\t\t-webkit-border-radius: 15px 15px 0 0;\r\n");
      out.write("\t}\r\n");
      out.write("\t.basket-footer {\r\n");
      out.write("\t\tbackground: #166D9A;\r\n");
      out.write("\t\tborder-radius: 0;\r\n");
      out.write("\t\t-moz-border-radius: 0;\r\n");
      out.write("\t\t-webkit-border-radius: 0;\r\n");
      out.write("\t}\r\n");
      out.write("\t.creditcard-header {\r\n");
      out.write("\t\tborder-radius: 0;\r\n");
      out.write("\t\t-moz-border-radius: 0;\r\n");
      out.write("\t\t-webkit-border-radius: 0;\r\n");
      out.write("\t}\r\n");
      out.write("\t.creditcard-footer {\r\n");
      out.write("\t\tborder-radius: 0 0 15px 15px;\r\n");
      out.write("\t\t-moz-border-radius: 0 0 15px 15px;\r\n");
      out.write("\t\t-webkit-border-radius: 0 0 15px 15px;\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("</style>\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("\t<div class=\"container-fluid background\">\r\n");
      out.write("\t\t<div class=\"row padding-top-20\">\r\n");
      out.write("\t\t\t<div\r\n");
      out.write("\t\t\t\tclass=\"col-12 col-sm-12 col-md-10 col-lg-10 col-xl-8 offset-md-1 offset-lg-1 offset-xl-2 padding-horizontal-40\">\r\n");
      out.write("\t\t\t\t<div class=\"row\">\r\n");
      out.write("\t\t\t\t\t<div class=\"col-12 main-wrapper\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"row\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div id=\"template\" class=\"row panel-wrapper\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"col-12 panel-header basket-header\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\tstyle=\"height: 100px !important\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-6 basket-title\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"description\">주문자 : ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${loginId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("</span><br> <span\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"emphasized\"></span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-6 order-number align-right\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"description\">order ID</span><br> <span\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"emphasized\">order ID 가져와야 함 </span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<div class=\"row\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tstyle=\"height: 40px !important; width: 425px !important;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-2 align-left\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<span></span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-6 align-left\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<span></span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-3 align-left\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<span></span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-1 align-left\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<span></span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"col-12 panel-body basket-body\" \">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"col-12 panel-footer basket-footer\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<hr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<div class=\"col-8 align-right description\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" onclick=\"addItem()\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"color: red; float: left; font-size: 10px; width: 10px; height: 10px;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tAdd Item</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div class=\"dive\">총합 :</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<hr>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"row panel-wrapper\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"col-12 panel-footer creditcard-footer\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"row\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 align-right\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<button class=\"confirm\">주문하기</button>\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t&nbsp;\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<button class=\"cancel\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tonclick=\"window.open('', '_self', ''); window.close();\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t취소하기</button>\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("<script>\r\n");
      out.write("function InsertSelectedData(){\r\n");
      out.write("\t//sendToDBData //이게 보낼 데이터 가진 javascript object\r\n");
      out.write("\t//orderID 넘기고 \r\n");
      out.write("\tvar numItems = $('.row.product').length;\r\n");
      out.write("\t//alert(\"추가된 아이템의 갯수는 \" + numItems + \" 입니다. \");\r\n");
      out.write("\t/*\r\n");
      out.write("\tvar myObject = {};\r\n");
      out.write("\talert(sendToDBData[0].orderDetailID);\r\n");
      out.write("\tfor(var i = 0 ; i < sendToDBData.length; i++){\r\n");
      out.write("\t\tmyObject[i.toString()] = sendToDBData[i].orderDetailID;\r\n");
      out.write("\t}\r\n");
      out.write("\tconsole.log(\"myObject 는\" + myObject);\r\n");
      out.write("\tsendDataToDB(myObject, sendToDBData.length);*/\r\n");
      out.write("}\r\n");
      out.write("function ReadSelectedData(){\r\n");
      out.write("\t//sendToDBData //이게 보낼 데이터 가진 javascript object\r\n");
      out.write("\tvar myObject = {};\r\n");
      out.write("\t//alert(sendToDBData[0].orderDetailID);\r\n");
      out.write("\tfor(var i = 0 ; i < sendToDBData.length; i++){\r\n");
      out.write("\t\tmyObject[i.toString()] = sendToDBData[i].orderDetailID;\r\n");
      out.write("\t}\r\n");
      out.write("\tconsole.log(\"myObject 는\" + myObject);\r\n");
      out.write("\tsendDataToDB(myObject, sendToDBData.length);\r\n");
      out.write("}\r\n");
      out.write("function sendDataToDB(myObject, myObjectLength) {\r\n");
      out.write("\t//alert(\"길이는\" + myObjectLength);\r\n");
      out.write("\tvar data = JSON.stringify(myObject);\r\n");
      out.write("\t$.ajax({ \r\n");
      out.write("\t\ttype : \"post\",\r\n");
      out.write("\t\tdataType : 'JSON',\r\n");
      out.write("\t\tdata : {\r\n");
      out.write("\t\t\tloadProds : myObjectLength,\r\n");
      out.write("\t\t\tdata1 : data,\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\turl : 'sendDataToDB.top',\r\n");
      out.write("\t\tsuccess : function(data) {\r\n");
      out.write("\t\t\t//alert(\"DB에 보내는 것이 성공하였습니다.\");\r\n");
      out.write("\t\t\tdisplay(data);\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\terror : function(request, status, error) {\r\n");
      out.write("\t\t\talert(\"code = \" + request.status + \"\\n message = \"\r\n");
      out.write("\t\t\t\t\t+ request.responseText + \" error = \" + error); // 실패 시 처리\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("};\r\n");
      out.write("$( \".confirm\" ).click(function() {\r\n");
      out.write("\t//주문 하기 버튼 \r\n");
      out.write("\t//0원 이면 주문 불가, 팝업으로 물어보기 \r\n");
      out.write("\tif (confirm(\"정말로 주문하시겠습니까?\")) {\r\n");
      out.write("\t\tif(totalPrice == 0 ){// 주문 불가 \r\n");
      out.write("\t\t\talert(\"최소 수량을 선택해주세요 \");\r\n");
      out.write("\t\t}else{//주문가능 \r\n");
      out.write("\t\t\twindow.open('', '_self', ''); window.close();\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tReadSelectedData();\r\n");
      out.write("\t\t\tInsertSelectedData();\r\n");
      out.write("\t\t\t//ajax로 컨트롤러로 서버에 데이터 보내기 \r\n");
      out.write("\t\t}\r\n");
      out.write("\t} else {\r\n");
      out.write("\t\t  txt = \"You pressed Cancel!\";\r\n");
      out.write("\t}\r\n");
      out.write("});\r\n");
      out.write("</script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
